<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­å­¦æ ¡ç¤¾ä¼š å…¬æ°‘ã‚¯ã‚¤ã‚º</title>
    <link rel="stylesheet" href="./Setting/setting.css">
</head>
<body>

    <!-- ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ -->
    <div class="container" id="title-screen">
        <h1>ç¬¬ï¼’ç« ã€€å€‹äººã‚’å°Šé‡ã™ã‚‹æ—¥æœ¬å›½æ†²æ³•</h1>
        <p>ï¼“ç¯€ã€€ç§ãŸã¡ã¨å¹³å’Œä¸»ç¾©</p>
        <button class="btn" onclick="startQuiz()">ã‚¯ã‚¤ã‚ºã‚’å§‹ã‚ã‚‹</button>
        <button class="btn_re" onclick="location.href='../index.html'">ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ã«æˆ»ã‚‹</button>
    </div>

    <!-- ã‚¯ã‚¤ã‚ºç”»é¢ï¼ˆæœ€åˆã¯éè¡¨ç¤ºï¼‰ -->
    <div class="container hidden" id="quiz-screen">
        <p class="question" id="question"></p>
        <div class="choices" id="choices"></div>
        <p class="result" id="result"></p>
        <p class="explanation" id="explanation"></p>
        <button class="next-btn" onclick="nextQuestion()">æ¬¡ã¸</button>
    </div>

    <!-- çµ‚äº†ç”»é¢ï¼ˆæœ€åˆã¯éè¡¨ç¤ºï¼‰ -->
    <div class="container hidden" id="end-screen">
        <h1>ã‚¯ã‚¤ã‚ºçµ‚äº†ï¼</h1>
        <p>ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼</p>
        <button class="btn" onclick="location.href='../index.html'">ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ã«æˆ»ã‚‹</button>
    </div>

    <script>
        const allQuizData = [
            {
                question: "æ—¥æœ¬å›½æ†²æ³•ã®ä¸‰å¤§åŸå‰‡ã«å«ã¾ã‚Œãªã„ã‚‚ã®ã¯ï¼Ÿ",
                choices: ["å›½æ°‘ä¸»æ¨©", "åŸºæœ¬çš„äººæ¨©ã®å°Šé‡", "å›½æ°‘çš†ä¿é™º", "å¹³å’Œä¸»ç¾©"],
                correct: 2,
                explanation: "ä¸‰å¤§åŸå‰‡ã¯ã€Œå›½æ°‘ä¸»æ¨©ã€ã€ŒåŸºæœ¬çš„äººæ¨©ã®å°Šé‡ã€ã€Œå¹³å’Œä¸»ç¾©ã€ã§ã™ã€‚ã€Œå›½æ°‘çš†ä¿é™ºã€ã¯æ†²æ³•ã®åŸå‰‡ã§ã¯ãªãã€ç¤¾ä¼šä¿éšœåˆ¶åº¦ã®ä¸€ã¤ã§ã™ã€‚"
            },
            {
                question: "ä¸‰æ¨©åˆ†ç«‹ã«å«ã¾ã‚Œãªã„ã‚‚ã®ã¯ï¼Ÿ",
                choices: ["ç«‹æ³•", "è¡Œæ”¿", "å¸æ³•", "è­¦å¯Ÿ"],
                correct: 3,
                explanation: "ä¸‰æ¨©åˆ†ç«‹ã¯ã€Œç«‹æ³•ï¼ˆå›½ä¼šï¼‰ã€ã€Œè¡Œæ”¿ï¼ˆå†…é–£ï¼‰ã€ã€Œå¸æ³•ï¼ˆè£åˆ¤æ‰€ï¼‰ã€ã§ã™ã€‚ã€Œè­¦å¯Ÿã€ã¯è¡Œæ”¿æ©Ÿé–¢ã®ä¸€éƒ¨ã«å«ã¾ã‚Œã¾ã™ã€‚"
            },
            {
                question: "å†…é–£ç·ç†å¤§è‡£ã‚’æŒ‡åã™ã‚‹ã®ã¯ï¼Ÿ",
                choices: ["å›½ä¼š", "å†…é–£", "æœ€é«˜è£åˆ¤æ‰€", "å¤©çš‡"],
                correct: 0,
                explanation: "å†…é–£ç·ç†å¤§è‡£ã¯å›½ä¼šã§æŒ‡åã•ã‚Œã€å¤©çš‡ãŒæ­£å¼ã«ä»»å‘½ã—ã¾ã™ã€‚"
            },
            {
                question: "æ—¥æœ¬ã®é¸æŒ™åˆ¶åº¦ã§ã€18æ­³ä»¥ä¸ŠãŒæŠ•ç¥¨ã§ãã‚‹é¸æŒ™ã¯ï¼Ÿ",
                choices: ["è¡†è­°é™¢è­°å“¡é¸æŒ™", "å‚è­°é™¢è­°å“¡é¸æŒ™", "åœ°æ–¹è­°ä¼šé¸æŒ™", "ã™ã¹ã¦"],
                correct: 3,
                explanation: "2016å¹´ã®æ³•æ”¹æ­£ã«ã‚ˆã‚Šã€18æ­³ä»¥ä¸ŠãŒã™ã¹ã¦ã®é¸æŒ™ã§æŠ•ç¥¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚"
            },
            {
                question: "æ†²æ³•æ”¹æ­£ã«å¿…è¦ãªæ¡ä»¶ã¯ï¼Ÿ",
                choices: ["å›½ä¼šã®éåŠæ•°ã®è³›æˆ", "å†…é–£ã®æ±ºå®š", "å›½æ°‘æŠ•ç¥¨ã§éåŠæ•°ã®è³›æˆ", "æœ€é«˜è£ã®æ‰¿èª"],
                correct: 2,
                explanation: "æ†²æ³•æ”¹æ­£ã«ã¯ã€å›½ä¼šã®2/3ä»¥ä¸Šã®è³›æˆã¨ã€å›½æ°‘æŠ•ç¥¨ã§éåŠæ•°ã®è³›æˆãŒå¿…è¦ã§ã™ã€‚"
            }
        ];

        let quizData = [];
        let currentQuestionIndex = 0;

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function startQuiz() {
            document.getElementById("title-screen").classList.add("hidden");
            document.getElementById("quiz-screen").classList.remove("hidden");
            document.getElementById("end-screen").classList.add("hidden");

            shuffle(allQuizData);
            quizData = allQuizData.slice(0, 5); // 5å•ã‚’ãƒ©ãƒ³ãƒ€ãƒ é¸å‡º
            currentQuestionIndex = 0;
            loadQuestion();
        }

        function loadQuestion() {
            const questionData = quizData[currentQuestionIndex];
            document.getElementById("question").textContent = questionData.question;
            document.getElementById("choices").innerHTML = "";
            document.getElementById("result").textContent = "";
            document.getElementById("explanation").textContent = "";
            document.querySelector(".next-btn").style.display = "none";

            questionData.choices.forEach((choice, index) => {
                const button = document.createElement("button");
                button.textContent = choice;
                button.onclick = () => checkAnswer(index);
                document.getElementById("choices").appendChild(button);
            });
        }

        function checkAnswer(selectedIndex) {
            const questionData = quizData[currentQuestionIndex];
            document.getElementById("result").textContent = selectedIndex === questionData.correct ? "æ­£è§£ï¼ ğŸ‰" : "ä¸æ­£è§£ âŒ";
            document.getElementById("explanation").textContent = questionData.explanation;
            document.querySelector(".next-btn").style.display = "block";
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizData.length) {
                loadQuestion();
            } else {
                document.getElementById("quiz-screen").classList.add("hidden");
                document.getElementById("end-screen").classList.remove("hidden");
            }
        }

        function returnToTitle() {
            document.getElementById("end-screen").classList.add("hidden");
            document.getElementById("title-screen").classList.remove("hidden");
        }
    </script>
</body>
</html>